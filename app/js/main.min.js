let lang="";lang="en"===localStorage.getItem("langStorage")?"en":"ru"===localStorage.getItem("langStorage")?"ru":"en";const langStorage="langStorage",letterBtnObj1=[{code:"Backquote",ru:"ё",RU:"Ё",en:"`",EN:"~"},{code:"Digit1",ru:"1",RU:"!",en:"1",EN:"!"},{code:"Digit2",ru:"2",RU:'"',en:"2",EN:"@"},{code:"Digit3",ru:"3",RU:"№",en:"3",EN:"#"},{code:"Digit4",ru:"4",RU:";",en:"4",EN:"$"},{code:"Digit5",ru:"5",RU:"%",en:"5",EN:"%"},{code:"Digit6",ru:"6",RU:":",en:"6",EN:"^"},{code:"Digit7",ru:"7",RU:"?",en:"7",EN:"&"},{code:"Digit8",ru:"8",RU:"*",en:"8",EN:"*"},{code:"Digit9",ru:"9",RU:"(",en:"9",EN:"("},{code:"Digit0",ru:"0",RU:")",en:"0",EN:")"},{code:"Minus",ru:"-",RU:"_",en:"-",EN:"_"},{code:"Equal",ru:"=",RU:"+",en:"=",EN:"+"}],letterBtnObj2=[{code:"KeyQ",ru:"й",RU:"Й",en:"q",EN:"Q"},{code:"KeyW",ru:"ц",RU:"Ц",en:"w",EN:"W"},{code:"KeyE",ru:"у",RU:"У",en:"e",EN:"E"},{code:"KeyR",ru:"к",RU:"К",en:"r",EN:"R"},{code:"KeyT",ru:"е",RU:"Е",en:"t",EN:"T"},{code:"KeyY",ru:"н",RU:"Н",en:"y",EN:"Y"},{code:"KeyU",ru:"г",RU:"Г",en:"u",EN:"U"},{code:"KeyI",ru:"ш",RU:"Ш",en:"i",EN:"I"},{code:"KeyO",ru:"щ",RU:"Щ",en:"o",EN:"O"},{code:"KeyP",ru:"з",RU:"З",en:"p",EN:"P"},{code:"BracketLeft",ru:"х",RU:"Х",en:"[",EN:"{"},{code:"BracketRight",ru:"ъ",RU:"Ъ",en:"]",EN:"}"},{code:"Backslash",ru:"\\",RU:"/",en:"\\",EN:"|"}],letterBtnObj3=[{code:"KeyA",ru:"ф",RU:"Ф",en:"a",EN:"A"},{code:"KeyS",ru:"ы",RU:"Ы",en:"s",EN:"S"},{code:"KeyD",ru:"в",RU:"В",en:"d",EN:"D"},{code:"KeyF",ru:"а",RU:"А",en:"f",EN:"F"},{code:"KeyG",ru:"п",RU:"П",en:"g",EN:"G"},{code:"KeyH",ru:"р",RU:"Р",en:"h",EN:"H"},{code:"KeyJ",ru:"о",RU:"О",en:"j",EN:"J"},{code:"KeyK",ru:"л",RU:"Л",en:"k",EN:"K"},{code:"KeyL",ru:"д",RU:"Д",en:"l",EN:"L"},{code:"Semicolon",ru:"ж",RU:"Ж",en:";",EN:":"},{code:"Quote",ru:"э",RU:"Э",en:"'",EN:'"'}],letterBtnObj4=[{code:"KeyZ",ru:"я",RU:"Я",en:"z",EN:"Z"},{code:"KeyX",ru:"ч",RU:"Ч",en:"x",EN:"X"},{code:"KeyC",ru:"с",RU:"С",en:"c",EN:"C"},{code:"KeyV",ru:"м",RU:"М",en:"v",EN:"V"},{code:"KeyB",ru:"и",RU:"И",en:"b",EN:"B"},{code:"KeyN",ru:"т",RU:"Т",en:"n",EN:"N"},{code:"KeyM",ru:"ь",RU:"Ь",en:"m",EN:"M"},{code:"Comma",ru:"б",RU:"Б",en:",",EN:"<"},{code:"Period",ru:"ю",RU:"Ю",en:".",EN:">"},{code:"Slash",ru:".",RU:",",en:"/",EN:"?"}],wrapper=document.createElement("div");wrapper.classList.add("wrapper"),document.body.appendChild(wrapper);const textBox=document.createElement("textarea");textBox.classList.add("text-box"),textBox.placeholder="Клавиатура создана в операционной системе Windows\nДля переключения языка комбинация: ctrl + alt",textBox.autofocus=!0,wrapper.appendChild(textBox);let textareaIndex=0;textBox.addEventListener("click",()=>{textareaIndex=textBox.selectionStart});const keyboard=document.createElement("div");keyboard.classList.add("keyboard"),wrapper.appendChild(keyboard);const lineFirst=document.createElement("div");lineFirst.classList.add("line"),lineFirst.classList.add("line1"),keyboard.appendChild(lineFirst);const lineSecond=document.createElement("div");lineSecond.classList.add("line"),lineSecond.classList.add("line2"),keyboard.appendChild(lineSecond);const lineThird=document.createElement("div");lineThird.classList.add("line"),lineThird.classList.add("line3"),keyboard.appendChild(lineThird);const lineFourth=document.createElement("div");lineFourth.classList.add("line"),lineFourth.classList.add("line4"),keyboard.appendChild(lineFourth);const lineFifth=document.createElement("div");lineFifth.classList.add("line"),keyboard.appendChild(lineFifth);const createFirstLine=function(){if("en"===lang)for(let t=0;t<letterBtnObj1.length;t+=1){const e=document.createElement("button");e.classList.add("letter"),e.textContent=letterBtnObj1[t].en,e.id=letterBtnObj1[t].code,lineFirst.appendChild(e)}else for(let t=0;t<letterBtnObj1.length;t+=1){const e=document.createElement("button");e.classList.add("letter"),e.textContent=letterBtnObj1[t].ru,e.id=letterBtnObj1[t].code,lineFirst.appendChild(e)}};createFirstLine();const createSecondLine=function(){if("en"===lang)for(let t=0;t<letterBtnObj2.length;t+=1){const e=document.createElement("button");e.classList.add("letter"),e.textContent=letterBtnObj2[t].en,e.id=letterBtnObj2[t].code,lineSecond.appendChild(e)}else for(let t=0;t<letterBtnObj2.length;t+=1){const e=document.createElement("button");e.classList.add("letter"),e.textContent=letterBtnObj2[t].ru,e.id=letterBtnObj2[t].code,lineSecond.appendChild(e)}};createSecondLine();const createThirdLine=function(){if("en"===lang)for(let t=0;t<letterBtnObj3.length;t+=1){const e=document.createElement("button");e.classList.add("letter"),e.textContent=letterBtnObj3[t].en,e.id=letterBtnObj3[t].code,lineThird.appendChild(e)}else for(let t=0;t<letterBtnObj3.length;t+=1){const e=document.createElement("button");e.classList.add("letter"),e.id=letterBtnObj3[t].code,e.textContent=letterBtnObj3[t].ru,lineThird.appendChild(e)}};createThirdLine();const createFourthLine=function(){if("en"===lang)for(let t=0;t<letterBtnObj4.length;t+=1){const e=document.createElement("button");e.classList.add("letter"),e.id=letterBtnObj4[t].code,e.textContent=letterBtnObj4[t].en,lineFourth.appendChild(e)}else for(let t=0;t<letterBtnObj4.length;t+=1){const e=document.createElement("button");e.classList.add("letter"),e.id=letterBtnObj4[t].code,e.textContent=letterBtnObj4[t].ru,lineFourth.appendChild(e)}};createFourthLine();const tabBtn=document.createElement("button");tabBtn.classList.add("tab-btn"),tabBtn.id="Tab",tabBtn.textContent="Tab",lineSecond.prepend(tabBtn),tabBtn.addEventListener("mousedown",()=>{const t=textBox.value,e=t.slice(0,textareaIndex)+"\t"+t.slice(textareaIndex);textBox.value=e,textareaIndex+=1,tabBtn.classList.add("active")}),tabBtn.addEventListener("mouseup",()=>{tabBtn.classList.remove("active")});const backspaceBtn=document.createElement("button");backspaceBtn.classList.add("backspace-btn"),backspaceBtn.id="Backspace",backspaceBtn.textContent="Backspace",lineFirst.appendChild(backspaceBtn);const deleteBtn=document.createElement("button");deleteBtn.classList.add("delete-btn"),deleteBtn.id="Delete",deleteBtn.textContent="Del",lineSecond.appendChild(deleteBtn);const capsBtn=document.createElement("button");capsBtn.classList.add("caps-btn"),capsBtn.id="CapsLock",capsBtn.textContent="Caps Lock",lineThird.prepend(capsBtn);const enterBtn=document.createElement("button");enterBtn.classList.add("enter-btn"),enterBtn.id="Enter",enterBtn.textContent="Enter",lineThird.appendChild(enterBtn);const arrowUp=document.createElement("button");arrowUp.classList.add("arrow-up"),arrowUp.id="ArrowUp",arrowUp.textContent="↑",lineFourth.appendChild(arrowUp);const shiftBtn=document.createElement("button");shiftBtn.classList.add("shift-btn-right"),shiftBtn.id="ShiftRight",shiftBtn.textContent="Shift",lineFourth.appendChild(shiftBtn);const shiftLeftBtn=document.createElement("button");shiftLeftBtn.classList.add("shift-btn-left"),shiftLeftBtn.id="ShiftLeft",shiftLeftBtn.textContent="Shift",lineFourth.prepend(shiftLeftBtn);const ctrlBtn=document.createElement("button");ctrlBtn.classList.add("ctrl-btn-left"),ctrlBtn.id="ControlLeft",ctrlBtn.textContent="Ctrl",lineFifth.appendChild(ctrlBtn);const winBtn=document.createElement("button");winBtn.classList.add("win-btn"),winBtn.id="MetaLeft",winBtn.textContent="Win",lineFifth.appendChild(winBtn);const altBtn=document.createElement("button");altBtn.classList.add("alt-btn-left"),altBtn.id="AltLeft",altBtn.textContent="Alt",lineFifth.appendChild(altBtn);const spaceBtn=document.createElement("button");spaceBtn.classList.add("space-btn"),spaceBtn.id="Space",lineFifth.appendChild(spaceBtn),spaceBtn.addEventListener("mousedown",()=>{spaceBtn.classList.add("active");const t=textBox.value,e=t.slice(0,textareaIndex)+" "+t.slice(textareaIndex);textBox.value=e,textareaIndex+=1}),spaceBtn.addEventListener("mouseup",()=>{spaceBtn.classList.remove("active")});const altBtnRight=document.createElement("button");altBtnRight.classList.add("alt-btn-right"),altBtnRight.id="AltRight",altBtnRight.textContent="Alt",lineFifth.appendChild(altBtnRight);const arrowLeft=document.createElement("button");arrowLeft.classList.add("arrow-left"),arrowLeft.id="ArrowLeft",arrowLeft.textContent="←",lineFifth.appendChild(arrowLeft);const arrowDown=document.createElement("button");arrowDown.classList.add("arrow-down"),arrowDown.id="ArrowDown",arrowDown.textContent="↓",lineFifth.appendChild(arrowDown);const arrowRight=document.createElement("button");arrowRight.classList.add("arrow-right"),arrowRight.id="ArrowRight",arrowRight.textContent="→",lineFifth.appendChild(arrowRight);const ctrlBtnRight=document.createElement("button");ctrlBtnRight.classList.add("ctrl-btn-right"),ctrlBtnRight.id="ControlRight",ctrlBtnRight.textContent="Ctrl",lineFifth.appendChild(ctrlBtnRight);const allLetterBtn=document.querySelectorAll(".letter");allLetterBtn.forEach(t=>{t.addEventListener("mousedown",()=>{const e=textBox.value,n=t.textContent,a=e.slice(0,textareaIndex)+n+e.slice(textareaIndex);textBox.value=a,t.classList.add("active"),textareaIndex+=1}),t.addEventListener("mouseup",()=>{t.classList.remove("active")})});const letterBtnLine1=document.querySelectorAll(".line1 .letter"),letterBtnLine2=document.querySelectorAll(".line2 .letter"),letterBtnLine3=document.querySelectorAll(".line3 .letter"),letterBtnLine4=document.querySelectorAll(".line4 .letter"),changeLanguageTest=function(){if("ru"===lang){letterBtnLine1[0].textContent=letterBtnObj1[0].ru;for(let t=0;t<letterBtnObj2.length;t+=1)letterBtnLine2[t].textContent=letterBtnObj2[t].ru;for(let t=0;t<letterBtnObj3.length;t+=1)letterBtnLine3[t].textContent=letterBtnObj3[t].ru;for(let t=0;t<letterBtnObj4.length;t+=1)letterBtnLine4[t].textContent=letterBtnObj4[t].ru}else if("RU"===lang){letterBtnLine1[0].textContent=letterBtnObj1[0].RU;for(let t=0;t<letterBtnObj2.length;t+=1)letterBtnLine2[t].textContent=letterBtnObj2[t].RU;for(let t=0;t<letterBtnObj3.length;t+=1)letterBtnLine3[t].textContent=letterBtnObj3[t].RU;for(let t=0;t<letterBtnObj4.length;t+=1)letterBtnLine4[t].textContent=letterBtnObj4[t].RU}else if("en"===lang){letterBtnLine1[0].textContent=letterBtnObj1[0].en;for(let t=0;t<letterBtnObj2.length;t+=1)letterBtnLine2[t].textContent=letterBtnObj2[t].en;for(let t=0;t<letterBtnObj3.length;t+=1)letterBtnLine3[t].textContent=letterBtnObj3[t].en;for(let t=0;t<letterBtnObj4.length;t+=1)letterBtnLine4[t].textContent=letterBtnObj4[t].en}else if("EN"===lang){letterBtnLine1[0].textContent=letterBtnObj1[0].EN;for(let t=0;t<letterBtnObj2.length;t+=1)letterBtnLine2[t].textContent=letterBtnObj2[t].EN;for(let t=0;t<letterBtnObj3.length;t+=1)letterBtnLine3[t].textContent=letterBtnObj3[t].EN;for(let t=0;t<letterBtnObj4.length;t+=1)letterBtnLine4[t].textContent=letterBtnObj4[t].EN}capsBtn.classList.contains("active")&&allLetterBtn.forEach(t=>{t.textContent=t.textContent.toUpperCase()})};changeLanguageTest(),backspaceBtn.addEventListener("mousedown",()=>{backspaceBtn.classList.add("active");let t=textBox.value;0===textareaIndex&&(textareaIndex=t.length-1),t=t.slice(0,textareaIndex-1)+t.slice(textareaIndex),textareaIndex-=1,textBox.value=t}),backspaceBtn.addEventListener("mouseup",()=>{backspaceBtn.classList.remove("active")}),enterBtn.addEventListener("mousedown",()=>{const t=textBox.value,e=t.slice(0,textareaIndex)+"\n"+t.slice(textareaIndex);textBox.value=e,enterBtn.classList.add("active"),textareaIndex+=1}),enterBtn.addEventListener("mouseup",()=>{enterBtn.classList.remove("active")}),ctrlBtnRight.addEventListener("mousedown",()=>{ctrlBtnRight.classList.add("active")}),ctrlBtnRight.addEventListener("mouseup",()=>{ctrlBtnRight.classList.remove("active")}),ctrlBtn.addEventListener("mousedown",()=>{ctrlBtn.classList.add("active")}),ctrlBtn.addEventListener("mouseup",()=>{ctrlBtn.classList.remove("active")}),altBtn.addEventListener("mousedown",()=>{altBtn.classList.add("active")}),altBtn.addEventListener("mouseup",()=>{altBtn.classList.remove("active")}),altBtnRight.addEventListener("mousedown",()=>{altBtnRight.classList.add("active")}),altBtnRight.addEventListener("mouseup",()=>{altBtnRight.classList.remove("active")}),winBtn.addEventListener("mousedown",()=>{winBtn.classList.add("active")}),winBtn.addEventListener("mouseup",()=>{winBtn.classList.remove("active")});const changeShift=function(){if(capsBtn.classList.contains("active")&&allLetterBtn.forEach(t=>{t.textContent=t.textContent.toLowerCase()}),"ru"===lang){for(let t=0;t<letterBtnObj1.length;t+=1)letterBtnLine1[t].textContent=letterBtnObj1[t].RU;for(let t=0;t<letterBtnObj2.length;t+=1)letterBtnLine2[t].textContent=letterBtnObj2[t].RU;for(let t=0;t<letterBtnObj3.length;t+=1)letterBtnLine3[t].textContent=letterBtnObj3[t].RU;for(let t=0;t<letterBtnObj4.length;t+=1)letterBtnLine4[t].textContent=letterBtnObj4[t].RU;lang="RU"}else if("RU"===lang){for(let t=0;t<letterBtnObj1.length;t+=1)letterBtnLine1[t].textContent=letterBtnObj1[t].ru;for(let t=0;t<letterBtnObj2.length;t+=1)letterBtnLine2[t].textContent=letterBtnObj2[t].ru;for(let t=0;t<letterBtnObj3.length;t+=1)letterBtnLine3[t].textContent=letterBtnObj3[t].ru;for(let t=0;t<letterBtnObj4.length;t+=1)letterBtnLine4[t].textContent=letterBtnObj4[t].ru;lang="ru"}else if("en"===lang){for(let t=0;t<letterBtnObj1.length;t+=1)letterBtnLine1[t].textContent=letterBtnObj1[t].EN;for(let t=0;t<letterBtnObj2.length;t+=1)letterBtnLine2[t].textContent=letterBtnObj2[t].EN;for(let t=0;t<letterBtnObj3.length;t+=1)letterBtnLine3[t].textContent=letterBtnObj3[t].EN;for(let t=0;t<letterBtnObj4.length;t+=1)letterBtnLine4[t].textContent=letterBtnObj4[t].EN;lang="EN"}else if("EN"===lang){for(let t=0;t<letterBtnObj1.length;t+=1)letterBtnLine1[t].textContent=letterBtnObj1[t].en;for(let t=0;t<letterBtnObj2.length;t+=1)letterBtnLine2[t].textContent=letterBtnObj2[t].en;for(let t=0;t<letterBtnObj3.length;t+=1)letterBtnLine3[t].textContent=letterBtnObj3[t].en;for(let t=0;t<letterBtnObj4.length;t+=1)letterBtnLine4[t].textContent=letterBtnObj4[t].en;lang="en"}};shiftLeftBtn.addEventListener("mousedown",()=>{shiftLeftBtn.classList.contains("active")||(shiftLeftBtn.classList.add("active"),changeShift(),capsBtn.classList.contains("active")&&allLetterBtn.forEach(t=>{t.textContent=t.textContent.toLowerCase()}))}),shiftLeftBtn.addEventListener("mouseup",()=>{shiftLeftBtn.classList.remove("active"),changeShift(),capsBtn.classList.contains("active")&&allLetterBtn.forEach(t=>{t.textContent=t.textContent.toUpperCase()})}),shiftBtn.addEventListener("mousedown",()=>{shiftBtn.classList.contains("active")||(shiftBtn.classList.add("active"),changeShift(),capsBtn.classList.contains("active")&&allLetterBtn.forEach(t=>{t.textContent=t.textContent.toLowerCase()}))}),shiftBtn.addEventListener("mouseup",()=>{shiftBtn.classList.remove("active"),changeShift(),capsBtn.classList.contains("active")&&allLetterBtn.forEach(t=>{t.textContent=t.textContent.toUpperCase()})}),capsBtn.onclick=function(){capsBtn.classList.toggle("active"),shiftLeftBtn.classList.contains("active")?allLetterBtn.forEach(t=>{t.textContent=t.textContent.toLowerCase()}):capsBtn.classList.contains("active")?allLetterBtn.forEach(t=>{t.textContent=t.textContent.toUpperCase()}):allLetterBtn.forEach(t=>{t.textContent=t.textContent.toLowerCase()})},arrowUp.addEventListener("mousedown",()=>{const t=textBox.value,e=t.slice(0,textareaIndex)+"↑"+t.slice(textareaIndex);textBox.value=e,arrowUp.classList.add("active"),textareaIndex+=1}),arrowUp.addEventListener("mouseup",()=>{arrowUp.classList.remove("active")}),arrowLeft.addEventListener("mousedown",()=>{const t=textBox.value,e=t.slice(0,textareaIndex)+"←"+t.slice(textareaIndex);textBox.value=e,arrowLeft.classList.add("active"),textareaIndex+=1}),arrowLeft.addEventListener("mouseup",()=>{arrowLeft.classList.remove("active")}),arrowRight.addEventListener("mousedown",()=>{const t=textBox.value,e=t.slice(0,textareaIndex)+"→"+t.slice(textareaIndex);textBox.value=e,arrowRight.classList.add("active"),textareaIndex+=1}),arrowRight.addEventListener("mouseup",()=>{arrowRight.classList.remove("active")}),arrowDown.addEventListener("mousedown",()=>{const t=textBox.value,e=t.slice(0,textareaIndex)+"↓"+t.slice(textareaIndex);textBox.value=e,arrowDown.classList.add("active"),textareaIndex+=1}),arrowDown.addEventListener("mouseup",()=>{arrowDown.classList.remove("active")});let isControlDown=!1,isAltDown=!1;document.onkeydown=function(t){const e="#"+t.code;if(null===document.querySelector(e)||void 0===document.querySelector(e))console.log("Нет такой кнопки в этой клавиатуре");else if("CapsLock"===t.code)t.preventDefault(),capsBtn.classList.toggle("active"),shiftLeftBtn.classList.contains("active")?allLetterBtn.forEach(t=>{t.textContent=t.textContent.toLowerCase()}):capsBtn.classList.contains("active")?allLetterBtn.forEach(t=>{t.textContent=t.textContent.toUpperCase()}):allLetterBtn.forEach(t=>{t.textContent=t.textContent.toLowerCase()});else if("Tab"===t.code){t.preventDefault();const n=textBox.value,a="\t",l=n.slice(0,textareaIndex)+a+n.slice(textareaIndex);textBox.value=l,textareaIndex+=1,document.querySelector(e).classList.add("active")}else if("Enter"===t.code){t.preventDefault();const n=textBox.value,a="\n",l=n.slice(0,textareaIndex)+a+n.slice(textareaIndex);textBox.value=l,textareaIndex+=1,document.querySelector(e).classList.add("active")}else if("ArrowUp"===t.code){t.preventDefault();const n=textBox.value,a="↑",l=n.slice(0,textareaIndex)+a+n.slice(textareaIndex);textBox.value=l,arrowUp.classList.add("active"),textareaIndex+=1,document.querySelector(e).classList.add("active")}else if("ArrowLeft"===t.code){t.preventDefault();const n=textBox.value,a="←",l=n.slice(0,textareaIndex)+a+n.slice(textareaIndex);textBox.value=l,arrowLeft.classList.add("active"),textareaIndex+=1,document.querySelector(e).classList.add("active")}else if("ArrowDown"===t.code){t.preventDefault();const n=textBox.value,a="↓",l=n.slice(0,textareaIndex)+a+n.slice(textareaIndex);textBox.value=l,arrowDown.classList.add("active"),textareaIndex+=1,document.querySelector(e).classList.add("active")}else if("ArrowRight"===t.code){t.preventDefault();const n=textBox.value,a="→",l=n.slice(0,textareaIndex)+a+n.slice(textareaIndex);textBox.value=l,arrowRight.classList.add("active"),textareaIndex+=1,document.querySelector(e).classList.add("active")}else if("ShiftRight"===t.code||"ShiftLeft"===t.code)t.preventDefault(),document.querySelector(e).classList.add("active"),changeShift(),capsBtn.classList.contains("active")&&(t.preventDefault(),allLetterBtn.forEach(t=>{t.textContent=t.textContent.toUpperCase()}));else if("ControlLeft"===t.code||"ControlRight"===t.code)t.preventDefault(),document.querySelector(e).classList.add("active"),isControlDown=!0,!0===isAltDown&&("ru"===lang?(lang="en",localStorage.setItem(langStorage,"en")):(lang="ru",localStorage.setItem(langStorage,"ru")),changeLanguageTest());else if("AltLeft"===t.code||"AltRight"===t.code)t.preventDefault(),textBox.focus(),isAltDown=!0,document.querySelector(e).classList.add("active"),!0===isControlDown&&("ru"===lang?(lang="en",localStorage.setItem(langStorage,"en")):(lang="ru",localStorage.setItem(langStorage,"ru"),console.log("en - ru")),changeLanguageTest());else if("Backspace"===t.code)document.querySelector(e).classList.add("active");else if("Delete"===t.code)document.querySelector(e).classList.add("active");else if("Space"===t.code){t.preventDefault();const n=textBox.value,a=" ",l=n.slice(0,textareaIndex)+a+n.slice(textareaIndex);textBox.value=l,textareaIndex+=1,document.querySelector(e).classList.add("active")}else if("MetaLeft"===t.code)document.querySelector(e).classList.add("active");else{t.preventDefault(),document.querySelector(e).classList.add("active");const n=textBox.value,a=document.querySelector(e).textContent,l=n.slice(0,textareaIndex)+a+n.slice(textareaIndex);textBox.value=l,textareaIndex+=1}},document.onkeyup=function(t){const e="#"+t.code;null!==document.querySelector(e)&&void 0!==document.querySelector(e)&&("CapsLock"===t.code?console.log("est"):"ShiftRight"===t.code||"ShiftLeft"===t.code?(document.querySelector(e).classList.remove("active"),changeShift(),capsBtn.classList.contains("active")&&allLetterBtn.forEach(t=>{t.textContent=t.textContent.toUpperCase()})):"ControlLeft"===t.code||"ControlRight"===t.code?(isControlDown=!1,document.querySelector(e).classList.remove("active")):"AltLeft"===t.code||"AltRight"===t.code?(document.querySelector(e).classList.remove("active"),isAltDown=!1,textBox.focus()):document.querySelector(e).classList.remove("active"))},deleteBtn.addEventListener("mousedown",()=>{deleteBtn.classList.add("active");let t=textBox.value;t=t.slice(0,textareaIndex)+t.slice(textareaIndex+1),textBox.value=t}),deleteBtn.addEventListener("mouseup",()=>{deleteBtn.classList.remove("active")});